
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
	<meta charset="utf-8" />
	<title>xinu-avr: The Xinu OS for AVR atmega328p</title>
	<!--link rel="stylesheet" type="text/css" href="./www/files/mainpage.css"-->
	<link rel="stylesheet" media="(orientation: portrait)" href="./www/files/page_p.css">
	<link rel="stylesheet" media="(orientation: landscape)" href="./www/files/page_l.css">
	<script language="JavaScript" type="text/javascript">
	</script>
</head>

<body>

<!--center>
<img src="./www/files/xinu_web_page_heading.jpeg">
</center-->
<h2><strong>xinu-avr</strong>: the Xinu OS for AVR atmega328p devices (e.g. Arduino)</h2>

<center>

<h4>

       [<a href="https://se.fi.uncoma.edu.ar/xinu-avr/index.html#description">description</a>]
       [<a href="http://se.fi.uncoma.edu.ar/index.html#whatisxinu">What is Xinu?</a>]
       [<a href="https://se.fi.uncoma.edu.ar/index.html#lab">getting started</a>]
       [<a href="https://se.fi.uncoma.edu.ar/index.html#experimenting">experimenting with xinu</a>]
       [<a href="https://se.fi.uncoma.edu.ar/index.html#code">code for download</a>]
       [<a href="https://se.fi.uncoma.edu.ar/index.html#universities">xinu in universities</a>]
       [<a href="mailto:rafa@fi.uncoma.edu.ar">contact us</a>]
</h4>
</center>


<hr>

<a name="description">

<h3>Introduction</h3>

<p><img style="float: right;" width="40%" src="www/files/placa.jpg"></p>
<p>This repository keeps the source code of the Xinu operating system modified to run on an AVR atmega328p microcontroller. 
Using the major pieces of Xinu from this repository
a multi tasking embedded system can be developed (you will also need
any bare AVR MCU, or Arduino board, of course).</p>
<p>The source code is comprise of:</p>
<ol>
<li>The <strong>Xinu OS</strong> for AVR atmega328p (microkernel)</li>
<li>Basic examples (<strong>apps</strong>) of how to use Xinu</li>
<li>A complete example: <strong>The Xinu shell</strong> and ultra tiny versions of several <strong>UNIX-like utilities</strong> for AVR atmega328p: an editor, a basic interpreter, ps, kill, free, and some more</li>
</ol>
<p><a name="whatisxinu"></p>
<h3><a name="whatisxinu"></a>What is Xinu?</h3>
<p>Xinu is a small, elegant, and easy to understand operating system, originally developed by Douglas Comer for instructional purposes at Purdue University in the 1980s. Since the internal data structures and algorithms are so clear that it was possible to explain the whole operating system in just one book, including the source code for each componente in their pages.</p>
<p><strong>The Xinu Operating System includes</strong>: dynamic process creation, dynamic memory allocation, real-time clock management, process coordination and synchronization, local and remote file systems, a shell, and device-independent I/O functions.<br />
Xinu uses powerful primitives to provides all the componentes and the same functionality many conventional operating sytems supply. Since the whole source code size is small, Xinu is suitable for embedded systems.</p>
<p>Many sites defines Xinu as a free Unix system, or similar statements. It is not. Xinu differs completely from the internal structure of Unix (or Linux). For academic purposes Xinu is smaller, elegant, and easier to understand. Applications written for one system will not run on the other without modification. <strong> Xinu is not Unix </strong>.</p>
<h3>History</h3>
<p>Xinu originally ran on Digital Equipment Corporation LSI 11's with only 64K bytes of memory, at the end of 1979 and the inning of 1980. Over the years Xinu versions Xinu have been expanded and ported to a wide variety of architectures and platforms, including: IBM PC, Macintosh, Digital Equipment Corporation VAX and DECStation 3100, Sun Microsystems Sun 2, Sun 3 and Sparcstations, and for several ARM, MIPS and x86 embedded boards. It has been used as the basis for many research projects. Furthermore, Xinu has been used as an embedded system in products by companies such as Motorola, Mitsubishi, Hewlett-Packard, and Lexmark. There is a full TCP/IP stack, and even the original version of Xinu (for the PDP-11) supported arbitrary processes and network I/O.</p>
<p>There are current versions of Xinu for Galileo Intel boards, ARM Beagle Boards, several MIPS platforms, and for x86 PC hardware and virtual machines.</p>
<h3>Xinu OS for AVR atmega328p</h3>
<p>Current official Xinu versions are designed for ARM, MIPS and x86 architectures . The hardware differences between those and the ultra small AVR microcontroller required some changes to some low-level data structures of Xinu, mainly using the FLASH memory in the AVR MCU, for keeping several read only data structures, previously in RAM. Also, several limits were imposed so those data structures fits into the SRAM AVR memory. The Xinu version for AVR atmega328p has the core functionality of Xinu, and provides some extensions, including an eeprom file system and several UNIX like utilities for the Xinu shell.</p>
<p>This MCU has just 2KB of SRAM, 32KB of FLASH memory, and 1KB of EEPROM. The Xinu version for AVR uses 17KB of FLASH and 0.9KB of RAM, so there is still room (SRAM and FLASH) for the embedded application running on Xinu (concurrent processes).</p>
<p>So this project might be stimulating and very fun for lovers of embedded systems development and operating system internals.</p>
<p>Notes about the port:</p>
<ol>
<li>Max. number of processes (4 to 8)</li>
<li>main process is now the embedded application process</li>
<li>Max. number of semaphores (2 to 6) (the size of the table of process queues depends on this)</li>
<li>Max. number of devices (4 to 5)</li>
<li>The clkhandler() wakeup() a process (preemption) for CPU every 100ms</li>
<li>Several limits for buffers: 32bytes for tty input, 16bytes for names of devices, 1byte for the queues keys, and the list continues</li>
<li>sleepms() is now delay sleep100ms()</li>
<li>Many vars in data structures have a smaller size (e.g. before:int32, now:char)</li>
</ol>
<h3>Douglas Comer</h3>
<p>Douglas Comer is a Professor of Computer Science at Purdue University who
was inducted into the Internet Hall of Fame on September, 2019.</p>
<p><a href="https://www.cs.purdue.edu/homes/comer/">Douglas Comer Page</a></p>
<p><a href="https://www.cs.purdue.edu/news/articles/2019/comer_ihof.html">Internet Hall of Fame</a></p>
<p>As one of the earliest TCP/IP and internetworking researchers, Comer wrote the first series of textbooks explaining the scientific principles underlying the design of the Internet and its communications protocols, providing some of the earliest formal guidance for building efficient networks and applications that use the Internet. </p>
<p>Comerâ€™s three-volume textbook series, Internetworking with TCP/IP, written in 1987, is widely considered to be the authoritative reference for Internet protocols. The series played a key role in popularizing Internet protocols by making them more understandable to a new generation of engineers and IT professionals. </p>
<h3>Getting started</h3>
<p>Xinu is easy of understand, so a developer can obtain a copy 
of the system to examine, modify, instrument, measure, extend, or transport it to another architecture.</p>
<br>
<br>





</body></html>
